<!DOCTYPE html>
<html lang="en">
<head>
  <title>Simple Web Chat (SWC)</title>
</head>
<body style="margin:0; font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif">

<div style ="height: 100vh; display: flex; flex-direction: column;">

    <h1>Simple Web Chat (SWC) </h1>
    
    
    <table style="flex: 1; width: 100%; height: 100%; border-collapse: collapse; border: none; table-layout: fixed; box-sizing: border-box; font-size: 18px; overflow: auto;">

        <tr style=" vertical-align: top; height: 100%;">
            <td style="width: 25%; height: 100%; border-right: 2px solid black; padding: 5px;">
                <div id = "logged-out"> 
                    <h2>Log In or Sign Up to Get Started</h2>
                    <button id = "logIn">Log In</button> 
                    <button id = "signUp">Sign Up</button>
                    <br>
                    <b>IMPORTANT! READ!</b>
                    <b><br>How logging in works:</b>
                    <p style="margin : 0; padding-top:0;"> If you have not created an account, enter your email adress and name. <br><br> You will be emailed your own permanent passcode. DO NOT LOSE IT. It is your passcode FOREVER. <br> You can read about why your passcode is chosen for you in the technical info link below.  <br>---<br> If you have an account, log in using your email and provided passcode. </p>
                </div>
                
                <div id = "logged-in">
                    <h2 id = logged-in-as></h2>
                    <p>Version 0.1
                        <br> Things to add: 
                        <br> - adding CHATS
                        <br> - make it so you can message in chats and explore them and whatnot
                        <br> - basically everything lol this version sucks
                        <br> - support for different file types too
                     </p>
                </div>
                

                <div style=" position: absolute; bottom: 5px;">
                    <a href="registry/registry.html"target="_blank">Registry of Users</a>
                    <br>
                    <a href="staticPages/technical.html"target="_blank">Technical Info</a>
                    <br>
                </div>
                

                
            </td>
            <td style="width: 25%; height: 100%; border-right: 2px solid black; padding: 5px;">
            
                <h2>Manage Chats</h2>
                <div id = "logged-in1">
                    <b>Select a chat to open:</b> <br>
                    <select name="Select Chat" id="selectChat" style="width: 100%; max-width: 100%">
                    <option value="" disabled selected>-- Select a chat to begin --</option>
                    </select>

                    <br><br>
                    <b>Or create a new chat:</b>
                    <p>To create a chat, write down the email adresses of each person desired in the chat. Write each email on a new line. <br><br>Each person must have a registered account. You can use the registry (bottom left) to search for registered email addresses. You cannot create chats with invalid email adresses, or chats that already exist. <br><br> When you are done, click the "create chat" button. </p>
                    <textarea id="listInput" placeholder="Enter emails, one per line", style = "width: calc(100% - 5px); height: 200px; resize: none;"></textarea>
                    <br>
                    <button id = "createChat">Create Chat</button>
                </div>
                <div id = "logged-out1">
                    <p>You can't select or create a chat until you are logged in.</p>
                </div>
                


            </td>
            <td style="width: 50%; height: 100%; padding: 5px;">
                <h2>Chat With Others</h2>

                <div id = "logged-in2">
                    <b id = "chatHeader"> <- Select a chat to start</b>
                    <textarea readonly id="messagesList" placeholder="", style = "width: calc(100% - 5px); height: 60vh; resize: none;"></textarea>
                    <br>
                    <input type="text" id="msgInput" placeholder = "Enter message here...", style = "width: calc(100% - 60px)"></input>
                    <button id = "sendMessage">Send</button>

                </div>
                <div id = "logged-out2">
                    <p>You... you also can't actually chat with others until you are logged in. You should probably log in.</p>
                </div>

            </td>
        </tr>
    </table>
</div>
<script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/build/sha256.min.js"></script>
<script src = "scripts/main.js" type = "module"></script>
</body>
</html>
